<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
     <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous" />
  <!-- carrusel-slick -->
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick.css" />
  <link rel="stylesheet" type="text/css" href="https://cdn.jsdelivr.net/npm/slick-carousel/slick/slick-theme.css" />
    <title>Registro</title>
    <style>
/* Estilos generales para el formulario */
body {
    font-family: Arial, sans-serif;
    background-color: #f4f4f4;
    margin: 0;
    padding: 0;
}

h1 {
    text-align: center;
    color: #333;
    margin-top: 20px;
    animation: fadeIn 1s ease-in-out;
}





/* Estilos adicionales */
.hidden {
    display: none;
}




#sesion-iniciada {
    display: flex;
    flex-direction: column;
    align-items: center; /* Centra los elementos */
    background-color: #f8f9fa;
    padding: 12px;
    border-radius: 8px;
    box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
    max-width: 200px;
    position: fixed;
    top: 70px;
    right: 20px;
    z-index: 1000;
}

#username-display {
    font-size: 0.9rem;
    color: #495057;
    margin-bottom: 8px;
}

.botones .btn {
    transition: all 0.3s ease;
    font-size: 0.8rem;
}

.botones .btn:hover {
    transform: translateY(-2px);
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.2);
}

.botones .btn-outline-danger {
    color: #dc3545;
    border-color: #dc3545;
}



    </style>
</head>
<body>
    <nav class="hidden navbar navbar-expand-lg navbar-dark fixed-top bg-dark" id="nav">
    <div class="container">
      <a class="navbar-brand badge text-bg-danger fs-5" href="index.html">
        游꿟 Grupo1Movies</a>
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
        <span class="navbar-toggler-icon"></span>
      </button>
      <div class="collapse navbar-collapse" id="navbarNav">
        <ul class="navbar-nav ms-auto">
          <li class="nav-item">
            <a class="nav-link text-white" href="./index.html">Inicio</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="./views/search.html">Buscar</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="./views/favorites.html">Favoritos</a>
          </li>
          <li class="nav-item">
            <a class="nav-link text-white" href="./views/login.html">Login</a>
          </li>
        </ul>
        <div class="bg-light badge p-2 rounded-3 shadow" id="sesion-iniciada">
    <span id="username-display" class="fw-bold text-dark"></span>
    <svg xmlns="http://www.w3.org/2000/svg" width="32" height="32" fill="text-white" class="icon bi bi-person-circle" viewBox="0 0 16 16">
          <path d="M11 6a3 3 0 1 1-6 0 3 3 0 0 1 6 0"/>
          <path fill-rule="evenodd" d="M0 8a8 8 0 1 1 16 0A8 8 0 0 1 0 8m8-7a7 7 0 0 0-5.468 11.37C3.242 11.226 4.805 10 8 10s4.757 1.225 5.468 2.37A7 7 0 0 0 8 1"/>
        </svg>
    <div class="botones d-flex justify-content-center mt-2">
        <button id="logout" class="btn btn-outline-danger btn-sm">Cerrar sesi칩n</button>
    </div>
</div>
      </div>
    </div>
    </nav>

<h1 id="titulo" class="text-center mt-4">Reg칤strate</h1>
<div class="container d-flex justify-content-center ">
    <form name="userinfo" id="userinfo" action="#" class="w-50 bg-white p-4 rounded shadow">
        <div class="row mb-3">
            <div class="col-md-6">
                <label for="nombre" class="form-label">Nombre</label>
                <input type="text" class="form-control rounded shadow-sm" name="nombre" id="nombre" placeholder="Ej: Juan" required>
            </div>
            <div class="col-md-6">
                <label for="apellidos" class="form-label">Apellidos</label>
                <input type="text" class="form-control rounded shadow-sm" name="apellidos" id="apellidos" placeholder="Ej: P칠rez G칩mez" required>
            </div>
        </div>
        <div class="mb-3">
            <label for="nombreuser" class="form-label ">Nombre de usuario</label>
            <input type="text" class="form-control rounded shadow-sm" name="nombreuser" id="nombreuser" placeholder="Ej: juanito123" required>
        </div>
        <div class="mb-3">
            <label for="email" class="form-label">Email</label>
            <input type="email" class="form-control rounded shadow-sm" name="email" id="email" placeholder="Ej: juan@email.com" required>
        </div>
        <div class="mb-3">
            <label for="password" class="form-label">Contrase침a</label>
            <input type="password" class="form-control rounded shadow-sm" name="password" id="password" placeholder="M칤nimo 8 caracteres" required>
        </div>
        <button type="button" id="send" class="btn btn-outline-danger w-100 rounded shadow-sm">Registrarse</button>
    </form>
</div>

<style>
    ::placeholder {
        color: #adb5bd !important; /* Color m치s claro */
        opacity: 1; /* Asegura que se vea en todos los navegadores */
    }
</style>




    <script>
        document.addEventListener("DOMContentLoaded", () => {
            const usuarioSesion = sessionStorage.getItem("usuario");
            if (usuarioSesion) {
                const usuario = JSON.parse(usuarioSesion);
                document.getElementById("username-display").textContent = `Bienvenid@, ${usuario.nombreuser}`;
                document.getElementById("logout").classList.remove("hidden");
                document.getElementById("nav").classList.remove("hidden");

                document.getElementById("userinfo").style.display = "none";
                document.getElementById("titulo").style.display = "none";
            }
        });

        const validacion = () => {
            const input_email = document.getElementById("email");
            const regex_email = /^[^\s@]+@[^\s@]+\.[^\s@]+$/;

            if (!regex_email.test(input_email.value)) {
                input_email.setCustomValidity("Email inv치lido");
            } else {
                input_email.setCustomValidity("");
            }
        };

        const envioformulario = () => {
            const formulario = document.getElementById("userinfo");
            validacion();

            if (formulario.checkValidity()) {
                const datosUsuario = {
                    nombre: document.getElementById("nombre").value,
                    apellidos: document.getElementById("apellidos").value,
                    nombreuser: document.getElementById("nombreuser").value,
                    email: document.getElementById("email").value,
                };
                
                sessionStorage.setItem("usuario", JSON.stringify(datosUsuario));
                alert("Inicio de sesi칩n correcto");
                location.reload();
            } else {
                alert("Error en el formulario");
            }
        };

        document.getElementById("send").addEventListener("click", envioformulario);

        document.getElementById("logout").addEventListener("click", () => {
            sessionStorage.removeItem("usuario");
            location.reload();
        });
    </script>
</body>
</html>
